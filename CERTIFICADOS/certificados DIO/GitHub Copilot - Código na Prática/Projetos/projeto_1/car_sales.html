<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AutoMercado — Carros Usados</title>
  <style>
    :root{
      --accent:#0b6cff;
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#6b7280;
      --success:#16a34a;
    }
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:0; background:var(--bg); color:#111}
    header{background:linear-gradient(90deg,#ffffff 0%, #f0f6ff 100%); padding:28px 20px; border-bottom:1px solid rgba(0,0,0,0.04);}
    .container{max-width:1100px; margin:0 auto;}
    .brand{display:flex; align-items:center; gap:18px}
    .logo{width:72px; height:72px; border-radius:12px; background:var(--accent); display:grid; place-items:center; color:white; font-weight:700; font-size:22px}
    .brand h1{margin:0; font-size:34px; letter-spacing:-1px}
    .brand p{margin:0; color:var(--muted);}

    .top-actions{display:flex; gap:12px; margin-top:14px; align-items:center; justify-content:space-between}
    .search-wrap{display:flex; gap:8px; align-items:center}
    input[type=text]{padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); min-width:220px}
    .btn{background:var(--accent); color:#fff; border:none; padding:10px 14px; border-radius:8px; cursor:pointer}
    .btn.secondary{background:#fff; color:#111; border:1px solid rgba(0,0,0,0.06)}

    main{padding:24px 20px}
    .card{background:var(--card); padding:16px; border-radius:12px; box-shadow:0 6px 18px rgba(10,20,40,0.06)}

    table{width:100%; border-collapse:collapse; font-size:14px}
    thead th{ text-align:left; padding:12px 10px; color:var(--muted); font-weight:600; font-size:13px; border-bottom:1px solid rgba(0,0,0,0.06)}
    tbody td{padding:12px 10px; border-bottom:1px solid rgba(0,0,0,0.03)}
    tbody tr:hover{background:linear-gradient(90deg, rgba(11,108,255,0.03), transparent)}
    .price{font-weight:700}
    .tag{display:inline-block; padding:6px 8px; border-radius:999px; font-size:12px; background:#eef6ff; color:var(--accent)}

    .actions{display:flex; gap:8px}
    .view-btn{padding:8px 10px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); background:#fff; cursor:pointer}

    @media (max-width:820px){
      .brand h1{font-size:24px}
      thead th:nth-child(3), tbody td:nth-child(3) {display:none}
      thead th:nth-child(4), tbody td:nth-child(4) {display:none}
    }

    .empty{padding:28px; text-align:center; color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="brand">
        <div class="logo">AM</div>
        <div>
          <h1>AutoMercado</h1>
          <p>Plataforma de carros usados — confiança e oferta perto de você</p>
        </div>
      </div>

      <div class="top-actions">
        <div class="search-wrap">
          <input id="search" type="text" placeholder="Buscar por marca, modelo ou ano..." oninput="filterTable()" />
          <button class="btn" onclick="resetFilter()">Limpar</button>
        </div>
        <div>
          <button class="btn secondary" onclick="exportCSV()">Exportar CSV</button>
          <button class="btn" onclick="openAddModal()">Adicionar carro</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="container">
      <div class="card">
        <h2 style="margin-top:0">Inventário de carros</h2>
        <p style="margin:6px 0 16px; color:var(--muted)">Lista com os carros disponíveis — clique em "Ver" para detalhes.</p>

        <div style="overflow:auto">
          <table id="cars-table" aria-describedby="inventario">
            <thead>
              <tr>
                <th>ID</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Ano</th>
                <th>Km</th>
                <th>Preço</th>
                <th>Estado</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>001</td>
                <td>Toyota</td>
                <td>Corolla XEi</td>
                <td>2017</td>
                <td>98.000</td>
                <td class="price">R$ 72.900</td>
                <td><span class="tag">SP</span></td>
                <td class="actions"><button class="view-btn" onclick="viewCar(this)">Ver</button></td>
              </tr>

              <tr>
                <td>002</td>
                <td>Volkswagen</td>
                <td>Gol 1.0</td>
                <td>2014</td>
                <td>120.450</td>
                <td class="price">R$ 28.500</td>
                <td><span class="tag">MG</span></td>
                <td class="actions"><button class="view-btn" onclick="viewCar(this)">Ver</button></td>
              </tr>

              <tr>
                <td>003</td>
                <td>Ford</td>
                <td>Ka SE</td>
                <td>2019</td>
                <td>65.300</td>
                <td class="price">R$ 45.000</td>
                <td><span class="tag">RJ</span></td>
                <td class="actions"><button class="view-btn" onclick="viewCar(this)">Ver</button></td>
              </tr>

              <tr>
                <td>004</td>
                <td>Chevrolet</td>
                <td>Onix LT</td>
                <td>2018</td>
                <td>82.100</td>
                <td class="price">R$ 54.300</td>
                <td><span class="tag">SP</span></td>
                <td class="actions"><button class="view-btn" onclick="viewCar(this)">Ver</button></td>
              </tr>

            </tbody>
          </table>
        </div>

        <p id="inventario" class="empty" style="display:none">Nenhum carro encontrado.</p>
      </div>
    </div>
  </main>

  <script>
    function filterTable(){
      const q = document.getElementById('search').value.toLowerCase().trim();
      const rows = document.querySelectorAll('#cars-table tbody tr');
      let visible = 0;
      rows.forEach(r=>{
        const cells = Array.from(r.querySelectorAll('td')).slice(1,6).map(td=>td.textContent.toLowerCase());
        const match = q === '' || cells.some(c=>c.includes(q));
        r.style.display = match ? '' : 'none';
        if(match) visible++;
      });
      document.getElementById('inventario').style.display = visible === 0 ? 'block' : 'none';
    }

    function resetFilter(){
      document.getElementById('search').value = '';
      filterTable();
    }

    function viewCar(btn){
      const tr = btn.closest('tr');
      const data = Array.from(tr.children).slice(0,7).map(td => td.textContent.trim());
      alert('Detalhes do carro:\n' +
            'ID: ' + data[0] + '\n' +
            'Marca: ' + data[1] + '\n' +
            'Modelo: ' + data[2] + '\n' +
            'Ano: ' + data[3] + '\n' +
            'Km: ' + data[4] + '\n' +
            'Preço: ' + data[5] + '\n' +
            'Estado: ' + data[6]);
    }

    function exportCSV(){
      const rows = Array.from(document.querySelectorAll('#cars-table tr'));
      const csv = rows.map(r=>{
        const cols = Array.from(r.querySelectorAll('th,td')).map(c=> '"'+c.textContent.replace(/"/g,'""')+'"');
        return cols.join(',');
      }).join('\n');
      const blob = new Blob([csv], {type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'inventario-carros.csv';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    function openAddModal(){
      const id = prompt('ID do carro (ex: 005)');
      if(!id) return;
      const marca = prompt('Marca'); if(!marca) return;
      const modelo = prompt('Modelo'); if(!modelo) return;
      const ano = prompt('Ano'); if(!ano) return;
      const km = prompt('Km'); if(!km) return;
      const preco = prompt('Preço (ex: R$ 30.000)'); if(!preco) return;
      const estado = prompt('Estado (SP/MG/RJ)'); if(!estado) return;

      const tbody = document.querySelector('#cars-table tbody');
      const tr = document.createElement('tr');
      tr.innerHTML = `\n        <td>${id}</td>\n        <td>${marca}</td>\n        <td>${modelo}</td>\n        <td>${ano}</td>\n        <td>${km}</td>\n        <td class=\"price\">${preco}</td>\n        <td><span class=\"tag\">${estado}</span></td>\n        <td class=\"actions\"><button class=\"view-btn\" onclick=\"viewCar(this)\">Ver</button></td>\n      `;
      tbody.appendChild(tr);
      resetFilter();
    }

    // inicializa
    filterTable();
  </script>
</body>
</html>
